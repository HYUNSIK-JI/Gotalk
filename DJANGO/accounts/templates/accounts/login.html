<!-- chat/templates/chat/index.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>로그인</title>
</head>
<body>
    {% if request.user.is_authenticated %}
    {{request.user}}
    {% endif %}
    <div class='signupbox'>
        <form action="" id ="fmField" method="POST" enctype="multipart/form-data" onsubmit="return checkForm();">
          {% csrf_token %}
          <div>
            {% comment %} 로그인 폼 1 {% endcomment %}
            <div class='login-user'>
              <div class='signup-userinfo-box'>
                <input data-testid="input-box" id="userId" name="username" placeholder="아이디" type="text" required=""
                  class="signup-userinfo" value="">
                <input data-testid="input-box"  id="userPw" name="password" placeholder="암호" type="password" required=""
                  class="signup-userinfo" value="">
              </div>
            </div>
            <div class="text-center">
              <button class='login-btn' type="submit">로그인</button>
              <a href="{% url 'accounts:signup' %}" class="signup">회원가입</a>
              <a href="{% url 'accounts:logout' %}"><li class="my-nav-item">로그아웃</li></a>
            </div>
          </div>
      
        </form>
      </div>
    </div>
    <script>
        function checkForm() {
          var userId = document.fmField.uerId;
          // 아이디 입력 유무 체크
          if(userId.value == '' || !(userId.value.length >= 3 && userId.value.length <= 12)) {
              window.alert("아이디를 입력하시오");
              document.fmField.uerId.focus();
              document.getElementById('userId').select();
              return false; // 아이디 입력이 안되어 있다면 submint 이벤트를 중지
          }
          var uerPw = document.getElementById('userPw');
          // 암호 입력 유무 체크
          if(document.fmField.userPw.value == ''){
              alert('암호를 입력하세요.');
              userPw.focus();
              return false;
          }
        }
        </script>
</body>
</html>